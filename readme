css-tools - make sense of your CSS
===Documentation===

==CSSI==

	cssi [-d][-t] [-I=<importpath>] [-W[no-]<warning> [...]] <filename> [...]

cssi is a command-line program which reads and parses one or many CSS files, then reports on their structure.
It's unfinished; right now, it parses the CSS file, then sorts and lists the selectors, enabling you to quickly scan for duplicates.
Note that *cssi is not a validator*; it accepts some invalid constructs, and probably rejects some valid ones (although the latter would be a bug).
Daemon mode: Output is sent, in a terse form, to stdout.  This is designed to allow front-end tools and interfaces to use cssi.  Some long-form output will still be produced, but redirected to stderr.
Options:
	-d,--daemon		Run in daemon mode
	-h,--help		Invocation help
	-t,--trace		Trace the parser state-machine (for debugging)
	-m,--max-warn=<maxwarnings>
					Output of warning messages stops after the <maxwarnings>th.  Default is 10
	-Wall,-Wno-all	Enable/disable all warnings
	-W<warning>		Enable the specified warning
	-Wno-<warning>	Disable the specified warning
	-I=<importpath>	Sets the path to use for @import at-rules (default is the current directory)
A filename of - (dash) will cause cssi to read from stdin.
An <importpath> (-I) will only affect files that come /after/ it on the command line.  @imported files will inherit the importpath of the (first) file which imported them.
Warnings:
	-Wnewline		Missing newline; two rules on the same line.  Default TRUE
	-Wdupfile		Duplicate file; duplicates are always skipped whether the warning is on or not.  Default TRUE
	-Watrule		At-rule positioning; an at-rule appears somewhere other than the start of a line, or is inside a selector.  Default TRUE
Commands for the cssi shell:
	selector <param><comparator><match> [...]
		Lists selectors matching the specified params.
		Valid <param>s:
			sid		the SelId of the selector
			file	the path/name of the file in which the selector appears
			line	the line-number of the statement containing the selector
			match	a tree-walk to which the selector must apply.  Only takes '=' and its semantics are changed to 'applies to'
			dup		1 if the selector has duplicates, 0 otherwise
			rows	max number of rows to show.  Effectively, row-number<value, where row-number is incremented each time a row is shown
		Valid <comparator>s:
			=		equality
			<, >	gt/lt for numerics
			:		satisfies regex
		Param matches are ANDed together
	quit
		Quits cssi
You only need to use enough characters of the command name to match it unambiguously.  The same does *not* apply to arguments, which must be given in full.
Arguments are space-delimited.
		
Sample usage of cssi:
	$ ./cssi -I=/path/to/css/ /path/to/css/test.css /path/to/css/sub.css
		cssi: processing test.css
		cssi: parsed test.css
		cssi: processing sub.css
		cssi: parsed sub.css
		cssi: warning: Duplicate file in set (from @import): sub.css
		cssi: Parsing completed
		cssi: collating selectors
		cssi>sel
		Listing SELECTORS
		In sub.css at 71:       #access
		In sub.css at 73:       #access h3
		In sub.css at 346:      #adduser
	<snip />
		In sub.css at 432:      textarea
		In test.css at 49:      ul
		cssi>q
	$

